[
  {
    "objectID": "index.html#females-married-by-15-vs-females-married-by-18-in-the-world",
    "href": "index.html#females-married-by-15-vs-females-married-by-18-in-the-world",
    "title": "Capstone Project",
    "section": "1. Females Married by 15 vs Females Married by 18 in the World",
    "text": "1. Females Married by 15 vs Females Married by 18 in the World\n\nsouth_asia &lt;- c(\"AFG: Afghanistan\", \"BGD: Bangladesh\", \"Bhutan\", \"ND: India\", \"MDV: Maldives\", \"NPL: Nepal\", \"PAK: Pakistan\", \"LKA: Sri Lanka\")\nsubsaharan_africa &lt;- c(\n    \"AGO: Angola\", \"BEN: Benin\", \"BWA: Botswana\", \"BFA: Burkina Faso\", \n    \"BDI: Burundi\", \"CPV: Cabo Verde\", \"CMR: Cameroon\", \"CAF: Central African Republic\", \n    \"TCD: Chad\", \"COM: Comoros\", \"COD: Congo, Democratic Republic of the\", \"COG: Congo, Republic of the\", \n    \"DJI: Djibouti\", \"GNQ: Equatorial Guinea\", \"ERI: Eritrea\", \"SWZ: Eswatini\", \n    \"ETH: Ethiopia\", \"GAB: Gabon\", \"GMB: Gambia\", \"GHA: Ghana\", \n    \"GIN: Guinea\", \"GNB: Guinea-Bissau\", \"CIV: Ivory Coast\", \"KEN: Kenya\", \n    \"LSO: Lesotho\", \"LBR: Liberia\", \"MDG: Madagascar\", \"MWI: Malawi\", \n    \"MLI: Mali\", \"MRT: Mauritania\", \"MUS: Mauritius\", \"MOZ: Mozambique\", \n    \"NAM: Namibia\", \"NER: Niger\", \"NGA: Nigeria\", \"RWA: Rwanda\", \n    \"STP: Sao Tome and Principe\", \"SEN: Senegal\", \"SYC: Seychelles\", \"SLE: Sierra Leone\", \n    \"SOM: Somalia\", \"ZAF: South Africa\", \"SSD: South Sudan\", \"SDN: Sudan\", \n    \"TZA: Tanzania\", \"TGO: Togo\", \"UGA: Uganda\", \"ZMB: Zambia\", \"ZWE: Zimbabwe\"\n)\nfor (i in 1:nrow(cm)) {\n  if (cm$REF_AREA.Geographic.area[i] %in% south_asia) {\n    cm$region[i] &lt;- \"South Asia\"\n    if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U15: Percentage of women (aged 20-24 years) married or in union before age 15\"){\n      cm$group[i] &lt;- \"Girls married by 15\"\n      cm$subgroup[i] &lt;- \"Girls married by 15 in South Asia\"\n    } else if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U18: Percentage of women (aged 20-24 years) married or in union before age 18\"){\n      cm$group[i] &lt;- \"Girls married by 18\"\n      cm$subgroup[i] &lt;- \"Girls married by 18 in South Asia\"\n    } else {\n      cm$group[i] &lt;- \"Other\"\n      cm$subgroup[i] &lt;- \"Other\"\n    }\n  } else if (cm$REF_AREA.Geographic.area[i] %in% subsaharan_africa) {\n    cm$region[i] &lt;- \"Sub-Saharan Africa\"\n    if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U15: Percentage of women (aged 20-24 years) married or in union before age 15\"){\n      cm$group[i] &lt;- \"Girls married by 15\"\n      cm$subgroup[i] &lt;- \"Girls married by 15 in Sub-Saharan Africa\"\n    } else if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U18: Percentage of women (aged 20-24 years) married or in union before age 18\"){\n      cm$group[i] &lt;- \"Girls married by 18\"\n      cm$subgroup[i] &lt;- \"Girls married by 18 in Sub-Saharan Africa\"\n    } else {\n      cm$group[i] &lt;- \"Other\"\n      cm$subgroup[i] &lt;- \"Other\"\n    }\n  } else { \n    cm$region[i] &lt;- \"Other\"\n    cm$group[i] &lt;- \"Other\"\n    cm$subgroup[i] &lt;- \"Other\"\n  }\n}\ncm_region &lt;- subset(cm, region %in% c(\"South Asia\", \"Sub-Saharan Africa\") & group != \"Other\")\nnames(cm_region)[names(cm_region) == \"REF_AREA.Geographic.area\"] &lt;- \"country\"\ncm_region$country &lt;- sub(\".*: \", \"\", cm_region$country)\n\n\nTree Map\n\nsa &lt;- unique(cm_region$country[cm_region$region == \"South Asia\"])\nssa &lt;- unique(cm_region$country[cm_region$region == \"Sub-Saharan Africa\"])\nsa_15 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 15 in South Asia\"]\nsa_18 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in South Asia\"]\nssa_15 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in Sub-Saharan Africa\"]\nssa_18 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in Sub-Saharan Africa\"]\nt_15 &lt;- round(mean(c(sa_15, ssa_15)),1)\nt_18 &lt;- round(mean(c(sa_18, ssa_18)),1)\n\n\nlabels1 &lt;- c(sa, ssa, c(\"Girls married by 15 in South Asia\", \"Girls married by 15 in Sub-Saharan Africa\", \"Girls married by 15\"))\nparents1 &lt;- c(\n    rep(\"Girls married by 15 in South Asia\", length(sa)),\n    rep(\"Girls married by 15 in Sub-Saharan Africa\", length(ssa)),\n    c(\"Girls married by 15\", \"Girls married by 15\", \"\")\n)\nvalues1 &lt;- c(sa_15, ssa_15, c(round(mean(sa_15),1), round(mean(ssa_15),1), t_15))\n\nlabels2 &lt;- c(sa, ssa, c(\"Girls married by 18 in South Asia\", \"Girls married by 18 in Sub-Saharan Africa\", \"Girls married by 18\"))\nparents2 &lt;- c(\n    rep(\"Girls married by 18 in South Asia\", length(sa)),\n    rep(\"Girls married by 18 in Sub-Saharan Africa\", length(ssa)),\n    c(\"Girls married by 18\", \"Girls married by 18\", \"\")\n    )\nvalues2 &lt;- c(sa_18, ssa_18, c(round(mean(sa_18),1), round(mean(ssa_18),1), t_18))\n\nfig &lt;- plot_ly(\n  type='treemap',\n  labels=labels1,\n  parents=parents1,\n  values=values1,\n  domain=list(column=0),\n  marker=list(colorscale='Reds'),\n  name = )\n\nfig &lt;- fig %&gt;% add_trace(\n  type='treemap',\n  labels=labels2,\n  parents=parents2,\n  values=values2,\n  domain=list(column=1),\n  marker=list(colorscale='Reds'))\n\nfig &lt;- fig %&gt;% layout(grid=list(columns=2, rows=1)) \nfig"
  }
]