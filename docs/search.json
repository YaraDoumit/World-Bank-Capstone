[
  {
    "objectID": "index.html#females-married-by-15-vs-females-married-by-18-in-the-sub-saharan-africa-and-south-asia",
    "href": "index.html#females-married-by-15-vs-females-married-by-18-in-the-sub-saharan-africa-and-south-asia",
    "title": "Capstone Project",
    "section": "1. Females Married by 15 vs Females Married by 18 in the Sub-Saharan Africa and South Asia",
    "text": "1. Females Married by 15 vs Females Married by 18 in the Sub-Saharan Africa and South Asia\n\nsouth_asia &lt;- c(\"AFG: Afghanistan\", \"BGD: Bangladesh\", \"Bhutan\", \"IND: India\", \"MDV: Maldives\", \"NPL: Nepal\", \"PAK: Pakistan\", \"LKA: Sri Lanka\")\nsubsaharan_africa &lt;- c(\n    \"AGO: Angola\", \"BEN: Benin\", \"BWA: Botswana\", \"BFA: Burkina Faso\", \n    \"BDI: Burundi\", \"CPV: Cabo Verde\", \"CMR: Cameroon\", \"CAF: Central African Republic\", \n    \"TCD: Chad\", \"COM: Comoros\", \"COD: Congo, Democratic Republic of the\", \"COG: Congo, Republic of the\", \n    \"DJI: Djibouti\", \"GNQ: Equatorial Guinea\", \"ERI: Eritrea\", \"SWZ: Eswatini\", \n    \"ETH: Ethiopia\", \"GAB: Gabon\", \"GMB: Gambia\", \"GHA: Ghana\", \n    \"GIN: Guinea\", \"GNB: Guinea-Bissau\", \"CIV: Ivory Coast\", \"KEN: Kenya\", \n    \"LSO: Lesotho\", \"LBR: Liberia\", \"MDG: Madagascar\", \"MWI: Malawi\", \n    \"MLI: Mali\", \"MRT: Mauritania\", \"MUS: Mauritius\", \"MOZ: Mozambique\", \n    \"NAM: Namibia\", \"NER: Niger\", \"NGA: Nigeria\", \"RWA: Rwanda\", \n    \"STP: Sao Tome and Principe\", \"SEN: Senegal\", \"SYC: Seychelles\", \"SLE: Sierra Leone\", \n    \"SOM: Somalia\", \"ZAF: South Africa\", \"SSD: South Sudan\", \"SDN: Sudan\", \n    \"TZA: Tanzania\", \"TGO: Togo\", \"UGA: Uganda\", \"ZMB: Zambia\", \"ZWE: Zimbabwe\"\n)\nfor (i in 1:nrow(cm)) {\n  if (cm$REF_AREA.Geographic.area[i] %in% south_asia) {\n    cm$region[i] &lt;- \"South Asia\"\n    if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U15: Percentage of women (aged 20-24 years) married or in union before age 15\"){\n      cm$group[i] &lt;- \"Girls married by 15\"\n      cm$subgroup[i] &lt;- \"Girls married by 15 in South Asia\"\n    } else if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U18: Percentage of women (aged 20-24 years) married or in union before age 18\"){\n      cm$group[i] &lt;- \"Girls married by 18\"\n      cm$subgroup[i] &lt;- \"Girls married by 18 in South Asia\"\n    } else {\n      cm$group[i] &lt;- \"Other\"\n      cm$subgroup[i] &lt;- \"Other\"\n    }\n  } else if (cm$REF_AREA.Geographic.area[i] %in% subsaharan_africa) {\n    cm$region[i] &lt;- \"Sub-Saharan Africa\"\n    if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U15: Percentage of women (aged 20-24 years) married or in union before age 15\"){\n      cm$group[i] &lt;- \"Girls married by 15\"\n      cm$subgroup[i] &lt;- \"Girls married by 15 in Sub-Saharan Africa\"\n    } else if (cm$INDICATOR.Indicator[i] == \"PT_F_20-24_MRD_U18: Percentage of women (aged 20-24 years) married or in union before age 18\"){\n      cm$group[i] &lt;- \"Girls married by 18\"\n      cm$subgroup[i] &lt;- \"Girls married by 18 in Sub-Saharan Africa\"\n    } else {\n      cm$group[i] &lt;- \"Other\"\n      cm$subgroup[i] &lt;- \"Other\"\n    }\n  } else { \n    cm$region[i] &lt;- \"Other\"\n    cm$group[i] &lt;- \"Other\"\n    cm$subgroup[i] &lt;- \"Other\"\n  }\n}\ncm_region &lt;- subset(cm, region %in% c(\"South Asia\", \"Sub-Saharan Africa\") & group != \"Other\")\nnames(cm_region)[names(cm_region) == \"REF_AREA.Geographic.area\"] &lt;- \"country\"\ncm_region$country &lt;- sub(\".*: \", \"\", cm_region$country)\n\n\nTree Map (Rate)\n\nsa &lt;- unique(cm_region$country[cm_region$region == \"South Asia\"])\nssa &lt;- unique(cm_region$country[cm_region$region == \"Sub-Saharan Africa\"])\nsa_15 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 15 in South Asia\"]\nsa_18 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in South Asia\"]\nssa_15 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in Sub-Saharan Africa\"]\nssa_18 &lt;- cm_region$OBS_VALUE.Observation.Value[cm_region$subgroup == \"Girls married by 18 in Sub-Saharan Africa\"]\nt_15 &lt;- round(mean(c(sa_15, ssa_15)),2)\nt_18 &lt;- round(mean(c(sa_18, ssa_18)),2)\n\n\nlabels1 &lt;- c(sa, ssa, c(\"Girls married by 15 in South Asia\", \"Girls married by 15 in Sub-Saharan Africa\", \"Girls married by 15\"))\nparents1 &lt;- c(\n    rep(\"Girls married by 15 in South Asia\", length(sa)),\n    rep(\"Girls married by 15 in Sub-Saharan Africa\", length(ssa)),\n    c(\"Girls married by 15\", \"Girls married by 15\", \"\")\n)\nvalues1 &lt;- c(sa_15, ssa_15, c(round(mean(sa_15),2), round(mean(ssa_15),2), t_15))\n\nlabels2 &lt;- c(sa, ssa, c(\"Girls married by 18 in South Asia\", \"Girls married by 18 in Sub-Saharan Africa\", \"Girls married by 18\"))\nparents2 &lt;- c(\n    rep(\"Girls married by 18 in South Asia\", length(sa)),\n    rep(\"Girls married by 18 in Sub-Saharan Africa\", length(ssa)),\n    c(\"Girls married by 18\", \"Girls married by 18\", \"\")\n    )\nvalues2 &lt;- c(sa_18, ssa_18, c(round(mean(sa_18),2), round(mean(ssa_18),2), t_18))\n\nfig &lt;- plot_ly(\n  type='treemap',\n  labels=labels1,\n  parents=parents1,\n  values=values1,\n  hovertemplate = paste('%{label}&lt;br&gt;%{value}%', '&lt;extra&gt;&lt;/extra&gt;'),\n  domain=list(column=0),\n  marker=list(colorscale='Reds'),\n  name = )\n\nfig &lt;- fig %&gt;% add_trace(\n  type='treemap',\n  labels=labels2,\n  parents=parents2,\n  values=values2,\n  hovertemplate = paste('%{label}&lt;br&gt;%{value}%', '&lt;extra&gt;&lt;/extra&gt;'),\n  domain=list(column=1),\n  marker=list(colorscale='Reds'))\n\nfig &lt;- fig %&gt;% layout(grid=list(columns=2, rows=1)) \nfig\n\n\n\n\n\n\n\nTree Map (Absolute Number)\n\nsouth_asia &lt;- c(\"Afghanistan\", \"Bangladesh\", \"Bhutan\", \"India\", \"Maldives\", \"Nepal\", \"Pakistan\", \"Sri Lanka\")\nsubsaharan_africa &lt;- c(\n    \"Angola\", \"Benin\", \"Botswana\", \"Burkina Faso\", \n    \"Burundi\", \"Cabo Verde\", \"Cameroon\", \"Central African Republic\", \n    \"Chad\", \"Comoros\", \"Congo, Democratic Republic of the\", \"Congo, Republic of the\", \n    \"Djibouti\", \"Equatorial Guinea\", \"Eritrea\", \"Eswatini\", \n    \"Ethiopia\", \"Gabon\", \"Gambia\", \"Ghana\", \n    \"Guinea\", \"Guinea-Bissau\", \"Ivory Coast\", \"Kenya\", \n    \"Lesotho\", \"Liberia\", \"Madagascar\", \"Malawi\", \n    \"Mali\", \"Mauritania\", \"Mauritius\", \"Mozambique\", \n    \"Namibia\", \"Niger\", \"Nigeria\", \"Rwanda\", \n    \"Sao Tome and Principe\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \n    \"Somalia\", \"South Africa\", \"South Sudan\", \"Sudan\", \n    \"Tanzania\", \"Togo\", \"Uganda\", \"Zambia\", \"Zimbabwe\"\n)\n\n\nmerged_df$`Female Married by 18`[merged_df$`Female Married by 18` == \"-\"] &lt;- NA\nmerged_df$`Female Married by 18` &lt;- as.numeric(merged_df$`Female Married by 18`)\nmerged_df$female_population_0_to_18 &lt;- as.numeric(merged_df$female_population_0_to_18)\nmerged_df$`Absolute Number` &lt;- merged_df$`Female Married by 18`\n\nfor (i in 1:nrow(merged_df)) {\n  if (merged_df$Country[i] %in% south_asia) {\n    merged_df$region[i] &lt;- \"South Asia\"\n  } else if (merged_df$Country[i] %in% subsaharan_africa) {\n    merged_df$region[i] &lt;- \"Sub-Saharan Africa\"\n  } else { \n    merged_df$region[i] &lt;- \"Other\"\n  }\n}\n\nWarning: Unknown or uninitialised column: `region`.\n\nsa &lt;- unique(merged_df$Country[merged_df$region == \"South Asia\"])\nssa &lt;- unique(merged_df$Country[merged_df$region == \"Sub-Saharan Africa\"])\nsa_abs &lt;- merged_df$`Absolute Number`[merged_df$region == \"South Asia\"]\nssa_abs &lt;- merged_df$`Absolute Number`[merged_df$region == \"Sub-Saharan Africa\"]\nt_sa &lt;- sum(sa_abs, na.rm=TRUE)\nt_ssa &lt;- sum(ssa_abs, na.rm=TRUE)\n\n\nlabels1 &lt;- c(sa, ssa, c(\"Girls married by 18 in South Asia\", \"Girls married by 18 in Sub-Saharan Africa\", \"Girls married by 18\"))\nparents1 &lt;- c(\n    rep(\"Girls married by 18 in South Asia\", length(sa)),\n    rep(\"Girls married by 18 in Sub-Saharan Africa\", length(ssa)),\n    c(\"Girls married by 18\", \"Girls married by 18\", \"\")\n)\nvalues1 &lt;- c(sa_abs, ssa_abs, t_sa, t_ssa, t_sa+t_ssa)\n\n\nfig &lt;- plot_ly(\n  type='treemap',\n  labels=labels1,\n  parents=parents1,\n  values=values1,\n  hovertemplate = paste('%{label}&lt;br&gt;%{value}', '&lt;extra&gt;&lt;/extra&gt;'),\n  #marker=list(colorscale='Viridis')\n  )\n\nfig"
  },
  {
    "objectID": "index.html#females-married-by-15-sub-saharan-africa-and-south-asia-countries",
    "href": "index.html#females-married-by-15-sub-saharan-africa-and-south-asia-countries",
    "title": "Capstone Project",
    "section": "2. Females Married by 15 Sub-Saharan Africa and South Asia countries",
    "text": "2. Females Married by 15 Sub-Saharan Africa and South Asia countries\n\nworld_map &lt;- map_data(\"world\")\n\ncountry_coords &lt;- world_map %&gt;%\n  group_by(region) %&gt;%\n  summarize(LAT = mean(lat), LON = mean(long))\n\ncm_region_15 &lt;- cm_region %&gt;%\n  filter(group == \"Girls married by 15\") %&gt;%\n  mutate(hover_text = paste(\"Country:\", country, \"&lt;br&gt;Value:\", OBS_VALUE.Observation.Value, \"%\"))\n\ncm_region_15 &lt;- merge(cm_region_15, country_coords, by.x = \"country\", by.y = \"region\", all.x = TRUE)\n\np &lt;- ggplot() +\n  geom_polygon(data = world_map, aes(x = long, y = lat, group = group), fill = \"white\", color = \"black\") +\n  geom_point(data = cm_region_15, aes(x = LON, y = LAT, \n                                      size = OBS_VALUE.Observation.Value, \n                                      text = hover_text, color = region), \n             alpha = 0.7) + \n  geom_point(data = cm_region_15, aes(x = LON, y = LAT, \n                                      size = OBS_VALUE.Observation.Value, \n                                      text = hover_text), color = \"black\",\n             alpha = 0.7, stroke = 0.5, shape = 21) + \n  scale_size(range = c(1, 10), name=\"Prevalence of Girls Married by 15 (%)\") +\n  coord_fixed(xlim = c(-20, 100), ylim = c(-35, 35), ratio = 1.3) +\n  labs(x = \" \", y = \" \", title = \"Prevalence of Girls Married by 15 (%)\") +\n  guides(size = \"none\") + theme_void()\n\nggplotly(p, tooltip = \"text\")"
  },
  {
    "objectID": "index.html#cross-correlations-between-countries-per-different-indicators",
    "href": "index.html#cross-correlations-between-countries-per-different-indicators",
    "title": "Capstone Project",
    "section": "3. Cross-correlations between countries per different indicators",
    "text": "3. Cross-correlations between countries per different indicators\n\n\n\ncorr_df &lt;- read.csv('data/combined_child_marriage_with_additional_indicators.csv')\ncorr_df$Female.Married.by.15[corr_df$Female.Married.by.15 == \"-\"] &lt;- NA\ncorr_df$Female.Married.by.18[corr_df$Female.Married.by.18 == \"-\"] &lt;- NA\ncorr_df$Male.Married.by.18[corr_df$Male.Married.by.18 == \"-\"] &lt;- NA\ncorr_df$Female.Married.by.15 &lt;- as.numeric(corr_df$Female.Married.by.15)\ncorr_df$Male.Married.by.18 &lt;- as.numeric(corr_df$Male.Married.by.18)\ncorr_df$Female.Married.by.18 &lt;- as.numeric(corr_df$Female.Married.by.18)\nnames(corr_df)[names(corr_df) == \"Female.Married.by.15\"] &lt;- \"Female Married by 15\"\nnames(corr_df)[names(corr_df) == \"Female.Married.by.18\"] &lt;- \"Female Married by 18\"\nnames(corr_df)[names(corr_df) == \"Male.Married.by.18\"] &lt;- \"Male Married by 18\"\nnames(corr_df)[names(corr_df) == \"GDP.per.Capita\"] &lt;- \"GDP\"\nnames(corr_df)[names(corr_df) == \"Female.Labor.Participation.Rate\"] &lt;- \"Female Labor\"\nnames(corr_df)[names(corr_df) == \"Female.Youth.Literacy.Rate\"] &lt;- \"Female Literacy\"\n\n\n# Generate corrgram plot\ncorrgram(corr_df, \n         order=TRUE, \n         lower.panel=panel.pie, \n         upper.panel=panel.pts, \n         text.panel=panel.txt, \n         main=\"Correlation Plots\",\n         cex.labels=1.2,   \n         font.labels=2) \n\n\n\n\n\n# Generate corrgram plot\ncorrgram(corr_df, \n         order=TRUE, \n         lower.panel=panel.pie, \n         upper.panel=panel.ellipse, \n         text.panel=panel.txt, \n         main=\"Correlation Plots\",\n         cex.labels=1.2,   \n         font.labels=2)"
  }
]